<!DOCTYPE html>

<html lang="en-us">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no"/>

    <title>Bash | Neil Grogan</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../../favicon-96x96.png">
    <link rel="manifest" href="../../manifest.json">
    <link rel="mask-icon" href="../../safari-pinned-tab.svg" color="#FF3DB4">
    <link rel="me" href="https://mastodon.ie/@dueyfinster">
    <meta name="theme-color" content="#ffffff">

    
    
    
    <link rel="stylesheet" href="../../css/main.min.6dbb4e69ddaa86bff9659a7608e7652e05a3015456c03b9676176ff564510fe1.css"/>

    
    
    

    
    

    <script src="https://unpkg.com/lunr/lunr.js"></script>

    
    <link rel="alternate" type="application/rss+xml" href="../../tags/bash/index.xml" title="Neil Grogan" />
    </head>

    <body>
        
<nav>
  <header>
    <div class="site-title">
        <a href="../../">Neil Grogan</a>
    </div>  
</header>

  <div class="nav-menu">
  
    <a class="color-link nav-link" href="../../about">About</a>
  
    <a class="color-link nav-link" href="../../uses">Uses</a>
  
    <a class="color-link nav-link" href="../../contact">Contact</a>
  
    <a class="color-link nav-link" href="../../archives/">Archives</a>
  
    <a class="color-link nav-link" href="../../tags/">Tags</a>
  
  <a class="color-link nav-link" href="../../tags/bash/index.xml" target="_blank" rel="noopener" type="application/rss+xml">RSS</a>
</div>
<footer class="footer">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    

    
    
    

    

    

    

    

    

</div>




	<script src="../../js/main.min.a7205ef73b078c8daed6fe1b0826e8ba229ffabbb69d299d9446cf41f2c7d8aa.js" integrity="sha256-pyBe9zsHjI2u1v4bCCbouiKf+ru2nSmdlEbPQfLH2Ko=" crossorigin="anonymous"></script><script src="../../js/lunr-search.js" ></script>
</footer>
</nav>

        <div id="content" class="content-container">
        

  <h1>Tagged "bash"</h1>
  
  
    
    <article>
            <h2>
                <a href="../../colour-bash/">
                    Custom Colourful Bash Prompt
                </a>
            </h2>
            <div>
                <p><p>Bash, a command line shell is one of the most used pieces of software in my
daily work. I like scripting repetitive actions to save a lot time (it brings me
great joy!). One of the simplest and easiest customisations is to add a bit of
colour to your otherwise boring bash prompt (otherwise known as $PS1):</p>
<pre><code>[ngrogan@localhost:~]$
</code></pre>
<p>can be turned in to this:</p>
<img src="../../files/2013/05/ColourBashPrompt.png" alt="My Custom Colour Bash Prompt">
<p>The thing about Bash is the colour codes to achieve this can look archaic:</p></p>
                
            </div>
            <div class="post-footer">
            <time>May 10, 2013</time>
            </div> 
        </article>
    
  
    
    <article>
            <h2>
                <a href="../../output-percentage-of-file-bash-code/">
                    Output Percentage of File (Bash code)
                </a>
            </h2>
            <div>
                <p><p>I wrote this script recently for a friend in a job who needed to output a
certain percentage of a log file, but no more and no less. This was in Linux
using bash, so I had a go at writing a solution, which you see below. Posting
this up in case it&rsquo;s useful to anyone else!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#75715e"># !/bin/sh # Public Domain, by Neil Grogan 2010 # Script</span>
</span></span><span style="display:flex;"><span>to output last 30% of file by lines
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    OLDFILE<span style="color:#f92672">=</span>&amp;quot;oldlog.txt&amp;quot;
</span></span><span style="display:flex;"><span>    NEWFILE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;newlog.txt&#34;</span>
</span></span><span style="display:flex;"><span>    PERCENT<span style="color:#f92672">=</span>0.7
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#Use wc to count lines</span>
</span></span><span style="display:flex;"><span>    LINES<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>wc -l $OLDFILE | awk <span style="color:#e6db74">&#39;{ print $1}&#39;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#Linespercent = 2 decimal places, lines by percent, round to whole</span>
</span></span><span style="display:flex;"><span>    LINESPERCENT<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>echo <span style="color:#e6db74">&#34;scale=2; </span>$LINES<span style="color:#e6db74">*</span>$PERCENT<span style="color:#e6db74">&#34;</span> | bc | xargs printf <span style="color:#e6db74">&#34;%1.0f&#34;</span> <span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Use tail to get last 30% and output, can use tail -s with sleep time to have it run on sched.</span>
</span></span><span style="display:flex;"><span>    tail -n $LINESPERCENT $OLDFILE &gt;&gt; $NEWFILE</span></span></code></pre></div></p>
                
            </div>
            <div class="post-footer">
            <time>February 5, 2011</time>
            </div> 
        </article>
    


        
        </div>
        <footer class="footer-mobile">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    

    
    
    

    

    

    

    

    

</div>




	<script src="../../js/main.min.a7205ef73b078c8daed6fe1b0826e8ba229ffabbb69d299d9446cf41f2c7d8aa.js" integrity="sha256-pyBe9zsHjI2u1v4bCCbouiKf+ru2nSmdlEbPQfLH2Ko=" crossorigin="anonymous"></script>
</footer>
    </body>
</html>