<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no"><title>Plain Text Accounting | Neil Grogan</title><link rel=apple-touch-icon sizes=180x180 href=../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../favicon-16x16.png><link rel=icon type=image/png sizes=96x96 href=../favicon-96x96.png><link rel=manifest href=../manifest.json><link rel=mask-icon href=../safari-pinned-tab.svg color=#ff3db4><meta name=theme-color content="#ffffff"><link rel=stylesheet href=../css/main.min.113b8750726301d2272b2fabf9695ed6bfe79dff4f4cd582cb3010010ebceea4.css><script src=https://unpkg.com/lunr/lunr.js></script></head><body><nav><header><div class=site-title><a href=../>Neil Grogan</a></div></header><div class=nav-menu><a class="color-link nav-link" href=../about>About</a>
<a class="color-link nav-link" href=../contact>Contact</a>
<a class="color-link nav-link" href=../archives/>Archives</a>
<a class="color-link nav-link" href=../tags/>Tags</a>
<a class="color-link nav-link" href=../index.xml target=_blank rel=noopener type=application/rss+xml>RSS</a></div><footer class=footer><div class=social-icons></div><script src=../js/main.min.a7205ef73b078c8daed6fe1b0826e8ba229ffabbb69d299d9446cf41f2c7d8aa.js integrity="sha256-pyBe9zsHjI2u1v4bCCbouiKf+ru2nSmdlEbPQfLH2Ko=" crossorigin=anonymous></script><script src=../js/lunr-search.js></script></footer></nav><div id=content class=content-container><h1 class=post-title>Plain Text Accounting</h1><time>October 10, 2016</time><div><p><p>For the last few years, I&rsquo;ve always wanted to budget properly and see where my money was going. But like all habits that are good for you, looking after your finances takes time, care and attention. I started off by researching the market for budgeting software. A lot of the prepackged software out there was very US-centric, including Quicken, Microsoft Money and <a href=https://www.mint.com>Mint.com</a>. I eventually settled on and bought a license for <a href=https://www.ynab.com>You Need a Budget</a>, because: it had a budgeting methodology, very good Euro support and was cross platform with <a href=https://en.wikipedia.org/wiki/Adobe_AIR>Adobe Air</a>. YNAB lasted me well for a few years, with its pretty graphs and ease of expense entry. I even liked their much pared-down companion iOS app at the time.</p><p>Fast forward to a few months ago, I decided I needed to get back on the budgeting horse, so to speak. I had a look at YNAB, expecting a major new version but instead was greeted with a cloud service. Although I love cloud services, I don&rsquo;t appreciate a third party which is not my bank having my financial information, because every major company, even ones the size of Yahoo, get hacked eventually. I then tried an iOS application called iBank, which retrieves your bank statements automatically by logging in to your bank on your behalf. But this again crosses the line on security and privacy, so I was out of luck.</p><p>That is until I found <a href=http://plaintextaccounting.org/>plain text accounting</a> and the programs <a href=http://www.ledger-cli.org/>ledger</a> and <a href=http://hledger.org/>hledger</a>. These two programs are command line applications, which read a plain text file filled with your transactions, like this:</p><pre tabindex=0><code>2016-10-10 Two Euro Shop ; Shouldn&#39;t buy this cheap stuff again
  Expenses:Knicknacks €2
  Assets:Checking -€2
</code></pre><p>Each transaction is as simple as the one above and is compatible between the two programs. There&rsquo;s no prefined accounts (like Expenses:Knicknacks or Assets:Checking), you can put whatever makes sense to you and the categories will exist. Anything prefixed with semicolon (;) is a comment, which is handy for searching the file and the date (2016-10-10) well obviously, it&rsquo;s a date! The only thing you have to make sure of is that the transaction balances, so the €2 and -€2 have to equal 0.</p><p>So at this point it looked good, but I had four major questions:</p><ol><li>How do I get data in?</li><li>How do I start with incomplete data?</li><li>How do I budget?</li><li>What can I use on iOS?</li></ol><p>So getting to the first question, it&rsquo;s very easy thankfully, but this is where we bring in the second program, hledger. Hledger is compatible with ledger, but with a few nice bells and whistles on top. One of these is extra nice CSV support, so you can download CSV files and import them. All CSV files are different, so how do we make sure we get the right data in? <a href=http://hledger.org/how-to-read-csv-files.html>Use rules files, which are a hledger concept</a>. Stick a .rules file named the same as your .csv file:</p><pre tabindex=0><code>$ ls 
Transaction_export.csv.rules
Transaction_export.csv
</code></pre><p>These .rules file are fairly simple:</p><pre tabindex=0><code>#Skip the first few lines
skip 2 

#these are fields to match the csv, including skipping fields
fields date, description, , amount-in, amount-out

if
 McDonalds
 account2 Expenses:Restaurants
</code></pre><p>Then we can print the transactions with <code>hledger -f Transaction_export.csv print</code> which will show us what would be produced (like the transaction above for the €2 shop). Simply tweak the rules file to match retailers, banks, restaurants etc you use and then append the result to your budget file: <code>hledger -f Transaction_export.csv print >> .hledger.journal</code>. Simply wash and repeat every few days, once you have enough transactions.</p><p>Next, starting with incomplete data is inevitable, I&rsquo;m not going to remember every transaction before I started to pay attention! But this problem is easy to solve, create a balancing transaction at the top of your budget file, dated before your first transaction you started with, like so:</p><pre tabindex=0><code>2016-10-09 * Opening Balance Current Account ; Just started budgeting!
  Assets:Checking €2
  Equity:Opening Balances -€2
</code></pre><p>You&rsquo;ll know this is successful if the balance command actually reflects your
account balance in real life: <code>ledger -f ~/.hledger.journal balance</code>.</p><p>After this, your accounts are all set up and you have your transactions, so why all this pain again? Oh yes - budgeting! There are many ways to do this, such as shadow accounts etc that I won&rsquo;t cover, please have a look on <a href=http://plaintextaccounting.org/>Plain Text Accounting</a> for some more advice on this. I&rsquo;ll cover my preffered method, a set budget every month, which you can check the balance of. At the top of my file I simply have something like this:</p><pre tabindex=0><code>~ Monthly
  Expenses:Restaurants €15
  Expenses:Entertainment €30
  Expenses:Car Tolls  €0
</code></pre><p>Then we can just issue one command to see the the status of each category:
<code>ledger -p "this month" --budget --monthly balance ^expenses</code>, I have this
aliased to &ldquo;budget&rdquo; as a command, which shows if we are on target or have
overspent this month on any category we like.</p><p>If your on a mobile device, unless you use an <a href=https://en.wikipedia.org/wiki/Secure_Shell>SSH</a> program to a central server, plain text accounting can be hard to use. My solution is to use the budgets above and reflect them in the brilliant <a href=https://www.getpennies.com/>Pennies app</a>. Pennies is lightweight and doesn&rsquo;t want transactions really, it wants a different budget for each category you need. This way you can see if you&rsquo;ve gone over or under every month in any category you want. So you don&rsquo;t have to enter correct data, just data with the right amounts, which is easy to get from ledger. That way when you feel an impulse purchase coming on, you can check Pennies and remind yourself your budget is more important!</p></p></div><div class=page-footer><hr class=footer-divider><a class=tag href=../tags/software>#software</a>
<a class=tag href=../tags/review>#review</a></div></div><footer class=footer-mobile><div class=social-icons></div><script src=../js/main.min.a7205ef73b078c8daed6fe1b0826e8ba229ffabbb69d299d9446cf41f2c7d8aa.js integrity="sha256-pyBe9zsHjI2u1v4bCCbouiKf+ru2nSmdlEbPQfLH2Ko=" crossorigin=anonymous></script></footer></body></html>